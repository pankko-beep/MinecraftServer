# Server Configuration
PORT=3000
NODE_ENV=development

# Database Configuration (same as Minecraft plugin)
DB_HOST=localhost
DB_PORT=3306
DB_NAME=nexus_db
DB_USER=nexus_user
DB_PASSWORD=your_secure_password

# ngrok Configuration
# After starting ngrok, copy your URL here for reference
# Example: https://abc123.ngrok-free.app
# Remember to update Mercado Pago webhook URL when this changes!
NGROK_URL=https://your-ngrok-url.ngrok-free.app

# Mercado Pago Configuration
# Get these from: https://www.mercadopago.com.br/developers/panel/app
MP_ACCESS_TOKEN=your_mercado_pago_access_token
MP_WEBHOOK_SECRET=your_webhook_secret
MP_PUBLIC_KEY=your_public_key

# Webhook URL to configure in Mercado Pago:
# ${NGROK_URL}/api/webhooks/mercadopago
# Example: https://abc123.ngrok-free.app/api/webhooks/mercadopago

# Custom Payment Method Configuration
# Generate a random secret: openssl rand -hex 32
CUSTOM_PAYMENT_SECRET=generate_random_secret_here
CUSTOM_PAYMENT_ENABLED=true

# Security
API_SECRET_KEY=generate_random_secret_key_here
# Leave empty or add your server IPs. Note: ngrok handles external access
ALLOWED_IPS=

# CORS Configuration
# Allowed origins for CORS (comma-separated)
# For ngrok: https://your-ngrok-url.ngrok-free.app,http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000

# Logging
LOG_LEVEL=info
LOG_FILE=./logs/payment-api.log

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===============================================
# SETUP INSTRUCTIONS
# ===============================================
# 1. Copy this file to .env
# 2. Fill in your database credentials
# 3. Add your Mercado Pago credentials
# 4. Generate random secrets for CUSTOM_PAYMENT_SECRET and API_SECRET_KEY
# 5. Start server: npm run dev
# 6. Start ngrok: ngrok http 3000
# 7. Copy ngrok URL and update NGROK_URL above
# 8. Configure webhook in Mercado Pago with: ${NGROK_URL}/api/webhooks/mercadopago
